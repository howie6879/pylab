## 敏捷软件开发第三部分第二周读书笔记

目标：薪水支付案例研究：第一次，迭代开始

> 下面的案例研究描述了一个简单的批量处理薪水支付系统开发中的第一次迭代过程

### 初步的规格说明

雇员类型：

- 钟点工：如果工作时间超过8小时，那么超过的部分会按照正常报酬的1.5倍进行支付。每周五对他们进行支付
- 月薪支付，每个月的最后一个工作日对他们进行支付
- 月薪支付雇员（少数需要考虑提成）：每隔一周的周五对他们进行支付

雇员可以选择支付方式：

- 邮寄到邮政地址
- 在出纳人员那里支取
- 存入银行账户

关于工会：

- 每周会费字段，会费必须从他们的薪水中扣除
- 工会有时也会针对单个工会成员征收服务费用，工会每周会提交这些服务费用服务费用必须要从相应雇员的下个月的薪水总额中扣除

薪水支付应用程序：

- 每个工作日运行一次且在当天为相应的雇员进行支付
- 系统会被告知雇员的支付日期，这样它会计算从雇员上次支付日期到规定的本次支付日期间应支付的数额

数据库是实现细节！应该尽可能地推迟考虑数据库。有太多的应用程序之所以和数据库绑定在一起而无法分离，就是因为一开始设计时就把数据库考虑在内了。请记住抽象的定义：“本质部分的放大，无关紧要部分的去除。”在项目的当前阶段数据库就是无关紧要的；它只不过是一项用来存储和访问数据的技术而已

### 基于用例分析

> 我们先来考虑一下系统的行为而不是系统的数据。毕竟，别人付给我们报酬正是要我们创建系统的行为

用例就像是用稍多一点细节详细描述用户故事

在进行用例分析时，我们关注用户素材和验收测试，以找出系统的用户会执行的操作种类。接着我们会努力弄清楚系统怎样去响应这些操作。例如，这里是客户为下次迭代选取的用户故事：
- (1) 增加新雇员。
- (2) 删除雇员。
- (3) 登记考勤卡。
- (4) 登记销售凭条。
- (5) 登记工会服务费。
- (6) 更改雇员明细（例如每小时报酬、会费）。
- (7) 现在运行薪水支付系统。

让我们来把这些用户故事转换为具有详细细节的用例。我们不需要陷入过多的细节：只要有助于考虑出实现每个故事的代码设计即可

### 反思：找出底层的抽象

> 为了有效地使用OCP，必须要搜寻并找出隐藏于应用背后的抽象